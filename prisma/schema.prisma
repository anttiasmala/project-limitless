generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id        Int       @id @default(autoincrement())
    uuid      String    @unique @default(uuid())
    firstName String
    lastName  String
    email     String    @unique
    password  String
    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
    Session   Session[]
    Member    Member[]
}

model Session {
    uuid       String   @id @default(uuid())
    userUUID   String
    expiresAt  DateTime
    createdAt  DateTime @default(now())
    updatedAt  DateTime @updatedAt
    isLoggedIn Boolean  @default(false)
    User       User?    @relation(fields: [userUUID], references: [uuid], onDelete: Cascade)
}

model Member {
    id                    Int      @id @default(autoincrement())
    uuid                  String   @unique @default(uuid())
    userUUID              String
    firstName             String
    lastName              String
    email                 String
    phoneNumber           String?
    streetAddress         String?
    zipCode               String?
    city                  String?
    paid                  String?
    connectionPointNumber String?
    comment               String?
    createdAt             DateTime @default(now())
    updatedAt             DateTime @updatedAt
    User                  User?    @relation(fields: [userUUID], references: [uuid])
}
